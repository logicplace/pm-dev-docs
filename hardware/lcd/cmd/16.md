# Power controller set

Don't mess with this as it could possibly damage the LCD.

* To change the power supply configuration, use:
  * libpmdd: `LCD_PWR_CTL(x);`
  * C raw: `LCD_CTRL = 0x28 | x;`
  * ASM: `LD LCD_CTRL, #028h | x`

In the above, x stores three bit flags 0bBVF:

* B = Booster circuit
* V = Voltage regulator circuit
* F = Voltage follower (V/F) circuit

The docs provide the following table on page 8-32 and warn that other combinations are not recommended:

| Use Settings | D2 | D1 | D0 | B | V | F | External voltage input | Step-up voltage system terminal |
| Only the internal power supply is used | 1 | 1 | 1 | O | O | O | VSS2 | Used |
| Only the V regulator circuit and the V/F circuit are used | 0 | 1 | 1 | X | O | O | VOUT, VSS2 | Open |
| Only the V/F circuit is used | 0 | 0 | 1 | X | X | O | V5, VSS2 | Open |
| Only the external power supply is used | 0 | 0 | 0 | X | X | X | V1 to V5 | Open |

In the BIOS, this is set to 0b111 when the [LCD is initialized](../../../software/bios/disasm.md#user-content-08A4) and to 0b000 when the [LCD is turned off](../../../software/bios/disasm.md#user-content-08E2).

It's very possible that the other modes do nothing or may damage the console. (TODO: real messaging)
